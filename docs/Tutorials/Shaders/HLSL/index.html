<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tutorials/Shaders/HLSL" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Porting a basic HLSL Shader | New Vegas Reloaded</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true property=og:image content=https://dlpnd.github.io/nvr-wiki/img/nvr-social-card.png><meta data-rh=true name=twitter:image content=https://dlpnd.github.io/nvr-wiki/img/nvr-social-card.png><meta data-rh=true property=og:url content=https://dlpnd.github.io/nvr-wiki/docs/Tutorials/Shaders/HLSL><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=keywords content="new, vegas, reloaded, shaders, nvr, tesreloaded, enb"><meta data-rh=true name=author content="New Vegas Reloaded Community"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Porting a basic HLSL Shader | New Vegas Reloaded"><meta data-rh=true name=description content=---><meta data-rh=true property=og:description content=---><link data-rh=true rel=icon href=/nvr-wiki/img/favicon.ico><link data-rh=true rel=canonical href=https://dlpnd.github.io/nvr-wiki/docs/Tutorials/Shaders/HLSL><link data-rh=true rel=alternate href=https://dlpnd.github.io/nvr-wiki/docs/Tutorials/Shaders/HLSL hreflang=en><link data-rh=true rel=alternate href=https://dlpnd.github.io/nvr-wiki/docs/Tutorials/Shaders/HLSL hreflang=x-default><link data-rh=true rel=preconnect href=https://N75JTB7151-dsn.algolia.net crossorigin=anonymous><link rel=alternate type=application/rss+xml href=/nvr-wiki/blog/rss.xml title="New Vegas Reloaded RSS Feed"><link rel=alternate type=application/atom+xml href=/nvr-wiki/blog/atom.xml title="New Vegas Reloaded Atom Feed"><link rel=search type=application/opensearchdescription+xml title="New Vegas Reloaded" href=/nvr-wiki/opensearch.xml><link rel=stylesheet href=/nvr-wiki/assets/css/styles.1689c704.css><script src=/nvr-wiki/assets/js/runtime~main.44dc32c7.js defer></script><script src=/nvr-wiki/assets/js/main.a200a899.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"dark",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/nvr-wiki/img/logo.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/nvr-wiki/><div class=navbar__logo><img src=/nvr-wiki/img/logo.svg alt="New Vegas Reloaded - Wiki Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/nvr-wiki/img/logo.svg alt="New Vegas Reloaded - Wiki Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">New Vegas Reloaded</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/nvr-wiki/docs/intro>Introduction</a><a class="navbar__item navbar__link" href=/nvr-wiki/blog>Changelog</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/nvr-wiki/docs/Gallery>Gallery</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/dlpnd/nvr-wiki target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://discord.com/invite/QgN6mR6eTK target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live=polite aria-pressed=true><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/nvr-wiki/docs/intro>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/nvr-wiki/docs/Installation>Installing</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/nvr-wiki/docs/Gallery>Gallery</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/nvr-wiki/docs/faq>Frequently Asked Questions</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/nvr-wiki/docs/Main>Main Settings</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/nvr-wiki/docs/Shaders/AmbientOcclusion>Shaders</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/nvr-wiki/docs/Tutorials/Shaders/HLSL>Tutorials</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/nvr-wiki/docs/Tutorials/Shaders/HLSL>Shaders</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/nvr-wiki/docs/Tutorials/Shaders/HLSL>Porting a basic HLSL Shader</a></ul></ul></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/nvr-wiki/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Tutorials</span><meta itemprop=position content=1><li class=breadcrumbs__item><span class=breadcrumbs__link>Shaders</span><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Porting a basic HLSL Shader</span><meta itemprop=position content=3></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Porting a basic HLSL Shader</h1></header>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=preface>Preface<a href=#preface class=hash-link aria-label="Direct link to Preface" title="Direct link to Preface">​</a></h2>
<hr>
<blockquote>
<p>Original <a href="https://fiftytifty.net/forum/viewtopic.php?p=10#p10" target=_blank rel="noopener noreferrer">Source</a></p>
</blockquote>
<p>New Vegas Reloaded is a great piece of software, which hooks into New Vegas' renderer and adds some new effects. Such as making many statics cast shadows, darkening shadows, adding AO for nice object shading (fake mini-shadows), rain puddles during rainy weather...And colour adjustment with HLSL shaders!</p>
<p>Unfortunately, it's not quite as pick-up-and-go as it is for ReShade, or ENBSeries. This is not out of laziness, but out of near two decades of work on/off by the community. It's not just throwing post processing on top, but doing low level engine stuff.</p>
<p>But that does not mean we can't add our own HLSL code!</p>
<p>We just got to modify the source code, add our own shader, and port the shader code from those other cool projects into NVR!</p>
<p>Sounds easy, right?</p>
<p>Absolutely not.</p>
<p>Which is why this tutorial is being made! Let's get started.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=requirements>Requirements<a href=#requirements class=hash-link aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2>
<hr>
<p>We will need 4 tools:</p>
<ul>
<li><a href=https://git-scm.com/download/win target=_blank rel="noopener noreferrer"><code>Git</code></a></li>
<li><a href=https://visualstudio.microsoft.com/vs/community/ target=_blank rel="noopener noreferrer"><code>Visual Studio Community 2019</code></a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=TimGJones.HLSLToolsforVisualStudio" target=_blank rel="noopener noreferrer"><code>HLSL Tools for Visual Studio</code></a></li>
<li><a href=https://notepad-plus-plus.org/downloads/ target=_blank rel="noopener noreferrer"><code>Notepad++</code></a></li>
</ul>
<p>We use <code>Git</code> to download the source code, <code>Visual Studio</code> to edit it, <code>HLSL Tools</code> to make editing the shader code easier, and <code>Notepad++</code> to make editing the settings file easy. Sounds complex, but it's more just tedious than anything. So download and install those programs, and let's get going.</p>
<p>First things first, create a folder where we'll do all of our work. I just named mine <code>_GitHub</code>. Very creative, I know.</p>
<p>Now go into that folder, and right-click -> <code>Git Bash Here</code> -> Paste in the following when the command line appears:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-b</span><span class="token plain"> nightly https://github.com/mchaptel/TESReloaded10.git --recurse-submodules --remote-submodules</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This will have created a folder called <code>TESReloaded10</code> in the folder. Double click it, and you'll see something that looks like this:</p>
<p><img decoding=async loading=lazy alt=01 src=/nvr-wiki/assets/images/01-97e1e94ca6603341ad78c2df2ac92843.png title=01 width=785 height=723 class=img_ev3q></p>
<p>Right-click on TESReloaded.sln -> Open with -> Microsoft Visual Studio 2019.</p>
<p><img decoding=async loading=lazy alt=02 src=/nvr-wiki/assets/images/02-f16a609064085f232250f6b2f94e57bc.png title=02 width=601 height=510 class=img_ev3q></p>
<p>Give it a second to load, and you'll see Visual Studio pop up and look like the following:</p>
<p><img decoding=async loading=lazy alt=03 src=/nvr-wiki/assets/images/03-4a9600f8e890376a1195df3208023f55.png title=03 width=1109 height=859 class=img_ev3q></p>
<p>Congratulations, we've now ready to start doing code stuff! Unfortunately, we're now going to start doing code stuff.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=tutorial>Tutorial<a href=#tutorial class=hash-link aria-label="Direct link to Tutorial" title="Direct link to Tutorial">​</a></h2>
<hr>
<p>For this tutorial, because I'm only interested in doing stuff for New Vegas, we will be making modifications to the <code>NewVegasReloaded</code> project. The process should be similar for the other two, but I'm no authority on that.</p>
<p>We have several things we need to do:</p>
<ol>
<li>Port the <code>HLSL</code> parts that rely on <code>ReShade</code>'s framework, to <code>NVR</code>'s</li>
<li>Create the menu settings that will be used to adjust the effect in-game</li>
<li>Do a bit of C++ code (mostly ctrl+c ctrl+v shenanigans) to pass the game's data to the shader</li>
</ol>
<p>This is all very daunting for people doing this for the first time. It was for me, and poor Mathieu C held my baby bird hands every step of the way. And this is my way of paying it forward.</p>
<p>We will be doing our work in <code>ShaderManager.cpp</code>, <code>ShaderManager.h</code>, and <code>NewVegasReloaded.dll.defaults.toml</code>. They function as follows:</p>
<ul>
<li><code>ShaderManager.cpp</code> -> Where we calculate the values given to our shader, and call for it to be rendered</li>
<li><code>ShaderManager.h</code> -> Where we define the values, there's not much to do for this</li>
<li><code>NewVegasReloaded.dll.defaults.toml</code> -> Where we define the settings for our shader</li>
</ul>
<p>The first two can be found right inside <code>Visual Studio</code>, but the <code>.toml</code> file we will edit with <code>Notepad++</code> (Windows' built in Notepad works, but it's clunky and yucky to use), and is located in <code>TESReloaded10\Extra\NewVegasReloaded.dll.defaults.toml</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=chapter-0-fixing-up-the-visual-studio-solution>Chapter 0: Fixing up the Visual Studio Solution<a href=#chapter-0-fixing-up-the-visual-studio-solution class=hash-link aria-label="Direct link to Chapter 0: Fixing up the Visual Studio Solution" title="Direct link to Chapter 0: Fixing up the Visual Studio Solution">​</a></h3>
<p>Now before we get into the dirty innards of the code, we need to do a little fixing: Adding the DirectX 9 package.</p>
<p>The reason this isn't bundled in properly after downloading from Github, is because it's a big lump of code that takes up a few hundred MB of space. Fortunately, it's easy for us to rectify this.</p>
<ol>
<li>
<p>Go to <code>Tools -> NuGet Package Manager -> Manage NuGet Packages for Solution...</code>
<img decoding=async loading=lazy alt=04 src=/nvr-wiki/assets/images/04-068d1843c0a81541327770788d127403.png title=04 width=668 height=379 class=img_ev3q></p>
</li>
<li>
<p>You will see the following appear, give it a moment to load if the window doesn't pop up right away.
<img decoding=async loading=lazy alt=05 src=/nvr-wiki/assets/images/05-879e8b27bcc6dd5f2d00ad7af6d005d4.png title=05 width=1109 height=859 class=img_ev3q></p>
</li>
<li>
<p>Click <code>Restore</code> at the right of the yellow banner
<img decoding=async loading=lazy alt=06 src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAAoCAMAAACSJ7fYAAAAV1BMVEUAesw/P0bx8fHXoWmDP0a9g0a98fE/g7/xvYg/Y6RjodhjP0Y/P4jX8fGDvfHx16Tx8b+hY0YtLTD+/Mih1/HX8dg/P2m9g4i9vdi98djx8djX8b8Al/uzhzmnAAAAuUlEQVR4Xu2V6wqDMAxGTdK7d3e/vP9zbmkV909pYLjhASH2w2MaKC0GOZtxbIWDnH90PHP5dEAeX3LsjsogohY6bj3YTnE5r2Q4+JE6bFuCr7FT5yPixSA6fkX9Dq+disniPNyoIuumzowGf+orQ2Oy1Id/qPhfdL6m5OAlaDSXKVlyQKD4ERNQz46pXDlT7joSaNwLe1JJaxwQ2pJbdhZ5fE2a6b1PYUx+6Lzsjly2e8/tDpBTDHJeGdRz93aTQLUAAAAASUVORK5CYII=" title=06 width=67 height=40 class=img_ev3q></p>
</li>
<li>
<p>Wait for <code>Visual Studio</code> to finish fixing up the packages. If all went well, you'll see a nice green tick next to the icon of the Microsoft.DXSDK.D3DX package.
<img decoding=async loading=lazy alt=07 src=/nvr-wiki/assets/images/07-3c4149b841cc91e6104a23faef599c82.png title=07 width=1109 height=859 class=img_ev3q>
Then you are done fixing the compilation issues.
But wait! There's more!
We'll fix those icky warnings at the bottom of the screen.</p>
</li>
<li>
<p>Right-click on <code>NewVegasReloaded</code> -> <code>Properties</code>
<img decoding=async loading=lazy alt=08 src=/nvr-wiki/assets/images/08-1073a8bc5323b7fb9e42628c92b3d64d.png title=08 width=627 height=794 class=img_ev3q></p>
</li>
<li>
<p>The <code>Property Pages</code> window will pop up. Navigate to <code>Configuration Properties</code> -> <code>VC++ Directories</code> -> <code>General</code> -> <code>Include Directories</code>
<img decoding=async loading=lazy alt=09 src=/nvr-wiki/assets/images/09-4eefbb149bfc90e7b1c30d427cac3889.png title=09 width=786 height=544 class=img_ev3q></p>
</li>
<li>
<p>What we want to do here, is paste the relative path from the <code>.sln</code> file to where that DirectX SDK got put. Which is:</p>
<div class="language-cmake codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cmake codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">packages\Microsoft.DXSDK.D3DX.</span><span class="token number" style="color:rgb(247, 140, 108)">9.29.952.8</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The result should be this:</p>
<div class="language-cmake codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cmake codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">IncludePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">;packages\Microsoft.DXSDK.D3DX.</span><span class="token number" style="color:rgb(247, 140, 108)">9.29.952.8</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy alt=10 src=/nvr-wiki/assets/images/10-430bfac1d00561a2591dfa9abc166f9d.png title=10 width=786 height=544 class=img_ev3q></p>
</li>
<li>
<p>We've fixed the <code>Debug</code> settings, and we will do the same for the Release settings. Mainly because Debug is wonky for this project so we will be using Release. Yay.
At the top left, change the <code>Configuration</code> setting to <code>Release</code>.</p>
</li>
<li>
<p>Make the same changes again to <code>Include Directories</code>, then click OK.
<img decoding=async loading=lazy alt=11 src=/nvr-wiki/assets/images/11-1c76dbc7c39f3eda24a417dd6ffed2a5.png title=11 width=786 height=544 class=img_ev3q>
Bam! Fixed those DirectX errors. We got some others kicking about, but ignore those because, err, it works anyway?</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=chapter-1-understanding-the-shader-we-want-to-port>Chapter 1: Understanding the shader we want to port<a href=#chapter-1-understanding-the-shader-we-want-to-port class=hash-link aria-label="Direct link to Chapter 1: Understanding the shader we want to port" title="Direct link to Chapter 1: Understanding the shader we want to port">​</a></h3>
<p>We got Visual Studio, we fixed the package so we can compile the code, now we need to understand what we're porting.</p>
<p>Let's do something basic. Remember SweetFX? That old grandaddy of ReShade that was all the rage back in the early Twenty Tenties? Yeah, that SweetFX. We'll port a basic, but rather nice shader called Lift Gamma Gain.</p>
<p>Here is the Github link for it, provided by 3an and CeeJay.dk: <a href=https://github.com/CeeJayDK/SweetFX/blob/master/Shaders/LiftGammaGain.fx target=_blank rel="noopener noreferrer">LiftGammaGain.fx</a></p>
<p>And here's the text of the shader, for posterity (link rot is a horrible reality!)</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * Lift Gamma Gain version 1.1</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * by 3an and CeeJay.dk</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style=font-style:italic>include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">"ReShadeUI.fxh"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>uniform</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> RGB_Lift </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> __UNIFORM_SLIDER_FLOAT3</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_min </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> ui_max </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_label </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"RGB Lift"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_tooltip </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Adjust shadows for red, green and blue."</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>uniform</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> RGB_Gamma </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> __UNIFORM_SLIDER_FLOAT3</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_min </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> ui_max </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_label </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"RGB Gamma"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_tooltip </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Adjust midtones for red, green and blue."</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>uniform</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> RGB_Gain </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> __UNIFORM_SLIDER_FLOAT3</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_min </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> ui_max </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_label </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"RGB Gain"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_tooltip </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Adjust highlights for red, green and blue."</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style=font-style:italic>include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">"ReShade.fxh"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">LiftGammaGainPass</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> position </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SV_Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float2</span><span class="token plain"> texcoord </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> TexCoord</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SV_Target</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tex2D</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ReShade</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">BackBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> texcoord</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rgb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Lift --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> RGB_Lift</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> RGB_Lift </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Is not strictly necessary, but does not cost performance</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Gain --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">*=</span><span class="token plain"> RGB_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Gamma --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> RGB_Gamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>technique</span><span class="token plain"> LiftGammaGain</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>pass</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">VertexShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> PostProcessVS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">PixelShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> LiftGammaGainPass</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Now you'll want to copy that over to Notepad++ or Visual Code. I'll just use Notepad++ for this tutorial, as it's a dinky-tiny shader. But you definitely want VSCode when working with more complex stuff.</p>
<p>What we need to do, is the following:</p>
<ol>
<li>Remove the SweetFX-specific UI stuff</li>
<li>Rename the variables to have NVR's <code>TESR_</code> prefix</li>
<li>Edit the effect code to use the new variable names</li>
</ol>
<p>First thing we'll do, is remove the SweetFX UI stuff, and prepare the variables for NVR's system instead. This is easy, just heavy on the jargon. Here's the snippet we'll be working with:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * Lift Gamma Gain version 1.1</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * by 3an and CeeJay.dk</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style=font-style:italic>include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">"ReShadeUI.fxh"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>uniform</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> RGB_Lift </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> __UNIFORM_SLIDER_FLOAT3</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_min </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> ui_max </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_label </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"RGB Lift"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_tooltip </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Adjust shadows for red, green and blue."</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>uniform</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> RGB_Gamma </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> __UNIFORM_SLIDER_FLOAT3</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_min </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> ui_max </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_label </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"RGB Gamma"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_tooltip </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Adjust midtones for red, green and blue."</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>uniform</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> RGB_Gain </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> __UNIFORM_SLIDER_FLOAT3</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_min </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> ui_max </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_label </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"RGB Gain"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ui_tooltip </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Adjust highlights for red, green and blue."</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style=font-style:italic>include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">"ReShade.fxh"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">LiftGammaGainPass</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> position </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SV_Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float2</span><span class="token plain"> texcoord </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> TexCoord</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SV_Target</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tex2D</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ReShade</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">BackBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> texcoord</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rgb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Lift --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> RGB_Lift</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> RGB_Lift </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Is not strictly necessary, but does not cost performance</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Gain --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">*=</span><span class="token plain"> RGB_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Gamma --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> RGB_Gamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>technique</span><span class="token plain"> LiftGammaGain</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>pass</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">VertexShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> PostProcessVS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">PixelShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> LiftGammaGainPass</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>We got 3 <code>float3</code> variables here. And what we'll do is condense them to 2 <code>float4</code>s, and 1 <code>float</code>. This looks icky to work with, which is why we'll create comments that explicitly state which each one does, so we don't get lost when working with the rest of this.</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = LiftRed, .y = LiftGreen, .z = LiftBlue, .w = GammaRed</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = GammaGreen, .y = GammaBlue, .z = GainRed, .w = GainGreen</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//GainBlue</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Notice the prefixes. The first one is very important, <code>TESR_</code>, as this is used by NewVegasReloaded to identify whether we are working with a variable from the game itself, or a variable we've created. Since we created this, prefix it with <code>TESR_</code> And after that, we'll add an acronym of the shader we're porting in order to help keep track of it and also avoid any possible conflicts with other shader variables.</p>
<p>By using // we are able to create comments. Which are sections of text ignored by the compiler, so we can write whatever we want on the same line after them. And a great use for these is keeping notes. For multi line comments, use /<em>at the beginning of the text/code you want to comment out, and then</em>/ at the end of it. For example:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//My single line comment!</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//We can have comments inside multi-line comments too!</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">float3 MyVariableI'mNotUsingYet;</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">float3 += 1;</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>After replacing those lines, next thing we see is this:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style=font-style:italic>include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">"ReShade.fxh"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>In this case, we can remove that, as we're not working with ReShade's actual framework. Rather, we're converting the shader to use NVR's framework.</p>
<p>Next we see the following function being declared, which has some intimidating text in it:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">LiftGammaGainPass</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> position </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SV_Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float2</span><span class="token plain"> texcoord </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> TexCoord</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SV_Target</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>We can just switch that to:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">VSOUT IN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> COLOR0</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Isn't that lovely? Now for the code inside that function, what we need to do is swap out the old variable names for our (admittedly icky) variable names. Which involves a bit of cruft, and probably can be done better, but I don't get paid for this. I'll give the code before, and the code after.</p>
<p>Before:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tex2D</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ReShade</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">BackBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> texcoord</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rgb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Lift --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> RGB_Lift</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> RGB_Lift </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Is not strictly necessary, but does not cost performance</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Gain --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">*=</span><span class="token plain"> RGB_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// -- Gamma --</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> RGB_Gamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>After (with comments!):</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">VSOUT IN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> COLOR0</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Lift: Red = TESR_LGG_LiftGamma.x</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Lift: Green = TESR_LGG_LiftGamma.y</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Lift: Blue = TESR_LGG_LiftGamma.z</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">xyz </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gain: Red = TESR_LGG_GammaGain.z</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gain: Green = TESR_LGG_GammaGain.w</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gain: Blue = TESR_LGG_Gain</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">*=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gamma: Red = TESR_LGG_LiftGamma.w,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gamma: Green = TESR_LGG_GammaGain.x</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gamma: Blue = TESR_LGG_GammaGain.y</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>After, without comments:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">VSOUT IN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> COLOR0</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">xyz </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">*=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Now, for the last code block in the shader, we have this:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>technique</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>pass</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">VertexShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> vs_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">FrameVS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">PixelShader</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> ps_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Luckily, since this is a simple shader, we don't have a mess of things here. And this is identical to what we need for NVR's shader. The important thing here is on this line:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token class-name" style="color:rgb(255, 203, 107)">PixelShader</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> ps_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>That function call at the end is what actually gets our shader code to run. And it has to be the same name as our function. Remember the main code block?</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">VSOUT IN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> COLOR0</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>That function we made, <code>GammaGain()</code> is what we need to use there. And we could rename it, so let's do that just to demonstrate. We'll rename it to <code>SweetFXGammaGain()</code>.</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">SweetFXGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">VSOUT IN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> COLOR0</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>technique</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>pass</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">VertexShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> vs_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">FrameVS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">PixelShader</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> ps_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">SweetFXGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>After all is said and done, here is the shader with all our changes.</p>
<p>With comments:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * Lift Gamma Gain version 1.1</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * by 3an and CeeJay.dk</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = LiftRed, .y = LiftGreen, .z = LiftBlue, .w = GammaRed</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = GammaGreen, .y = GammaBlue, .z = GainRed, .w = GainGreen</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//GainBlue</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">SweetFXGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">VSOUT IN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> COLOR0</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Lift: Red = TESR_LGG_LiftGamma.x</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Lift: Green = TESR_LGG_LiftGamma.y</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Lift: Blue = TESR_LGG_LiftGamma.z</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">xyz </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gain: Red = TESR_LGG_GammaGain.z</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gain: Green = TESR_LGG_GammaGain.w</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gain: Blue = TESR_LGG_Gain</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">*=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gamma: Red = TESR_LGG_LiftGamma.w,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gamma: Green = TESR_LGG_GammaGain.x</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Gamma: Blue = TESR_LGG_GammaGain.y</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>technique</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>pass</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">VertexShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> vs_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">FrameVS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">PixelShader</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> ps_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">SweetFXGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Without comments:</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * Lift Gamma Gain version 1.1</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * by 3an and CeeJay.dk</span><br></span><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float3</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">SweetFXGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">VSOUT IN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> COLOR0</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> color </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">xyz </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">*=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    color </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>float3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">saturate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>technique</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>pass</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">VertexShader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> vs_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">FrameVS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">PixelShader</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>compile</span><span class="token plain"> ps_3_0 </span><span class="token function" style="color:rgb(130, 170, 255)">SweetFXGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=chapter-2-adding-our-shader-and-variables-to-nvr>Chapter 2: Adding our shader and variables to NVR<a href=#chapter-2-adding-our-shader-and-variables-to-nvr class=hash-link aria-label="Direct link to Chapter 2: Adding our shader and variables to NVR" title="Direct link to Chapter 2: Adding our shader and variables to NVR">​</a></h3>
<p>Brilliant, we've ported the source code of the LiftGammaGain shader. Now, we will prepare the settings file first, <code>and THEN add</code> it to the framework. We'll create Day/Night/Interior variables, so we have some sweet, juicy time of day settings. Rather than, well, only having a single set of variables that is used at all times.</p>
<p>In Notepad++ (or vscode if you're pro, but we'll stick with Notepad++ for the sake of this tutorial), save the file in the <code>TESReloaded10\Extra\Shaders\NewVegasReloaded\Effects</code> folder, and call it <code>SweetFXLiftGammaGain.fx.hlsl</code>.</p>
<p>To do this, you will need to make sure file type is set to<code>All types (*.*)</code>. Like so:</p>
<p><img decoding=async loading=lazy alt=12 src=/nvr-wiki/assets/images/12-381af2dbcf369e1934e01ba3191c4f3d.png title=12 width=715 height=461 class=img_ev3q></p>
<p>You will notice that there are two types of files here. <code>.fx</code> And <code>.fx.hlsl</code>.</p>
<p>The <code>.fx.hlsl</code> files contain the source code, which is what we've been working with in Notepad++. When we run NVR, the framework will compile the <code>.fx.hlsl</code> into a <code>.fx</code> file, which is what will actually be used to render our swanky SweetFX effect.</p>
<p>With that done, it's time to create our various settings. There are several things to do here.</p>
<ol>
<li>
<p>Open the<code>NewVegasReloaded.dll.defaults.toml</code> file in Visual Studio (can be done in Notepad++, but easier and nicer to have the text in the same program for easy copy-paste and comparing)
<img decoding=async loading=lazy alt=13 src=/nvr-wiki/assets/images/13-075f902303527bc6b814c53d5cbbc6ce.png title=13 width=946 height=533 class=img_ev3q></p>
</li>
<li>
<p>Create two new sections for our settings: <code>.Status</code>, and <code>.Main</code></p>
<ol>
<li><code>[_Shaders.SweetFXLiftGammaGain.Status]</code> - This will contain only one setting, which is used to toggle the effect</li>
<li><code>[_Shaders.SweetFXLiftGammaGain.Main]</code> - This will contain the user-adjustable variables.
We'll also add a comment to it, which is done with # (unlike //, which is for C++ and HLSL):</li>
</ol>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">Enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Port of SweetFX's LiftGammaGain. Allows adjusting shadows, midtones, and highlights</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
<li>
<p>Add our settings to those sections</p>
</li>
<li>
<p>Define our shader's structure in <code>ShaderManager.h</code></p>
</li>
<li>
<p>Fill the variables with data in <code>ShaderManager.cpp</code></p>
</li>
<li>
<p>Pass the data to our shader in <code>ShaderManager.cpp</code></p>
</li>
</ol>
<p>Now let's add our variables to the .toml (steps 2 & 3). Remember those comments we made in the .hlsl file?</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = LiftRed, .y = LiftGreen, .z = LiftBlue, .w = GammaRed</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = GammaGreen, .y = GammaBlue, .z = GainRed, .w = GainGreen</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//GainBlue</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Good thing we did, as we can clearly see the various settings we need. We'll copy-paste these, and also turn them into <code>Day</code>, <code>Night</code>, & <code>Interior</code> variants. So with a quick copy paste, adding the default values and comments:</p>
<p><img decoding=async loading=lazy alt=14 src=/nvr-wiki/assets/images/14-334b8ed6450da633445a912f61b2f910.png title=14 width=1109 height=859 class=img_ev3q></p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">Enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Port of SweetFX's LiftGammaGain. Allows adjusting shadows, midtones, and highlights</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue highlights, 1.0 = no change</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Great, we got the basic settings down. Now let's copy-paste the Main section twice, and rename those three sections to <code>[_Shaders.SweetFXLiftGammaGain.Day]</code>, <code>[_Shaders.SweetFXLiftGammaGain.Night]</code>, and <code>[_Shaders.SweetFXLiftGammaGain.Interior]</code>.</p>
<p>Like so:</p>
<p><img decoding=async loading=lazy alt=15 src=/nvr-wiki/assets/images/15-274a84658bc3f9f746bd518c44b6d553.png title=15 width=1109 height=947 class=img_ev3q></p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">Enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Port of SweetFX's LiftGammaGain. Allows adjusting shadows, midtones, and highlights</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Day</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Night</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token table class-name" style="color:rgb(255, 203, 107)">_Shaders.SweetFXLiftGammaGain.Interior</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">LiftBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue shadows, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GammaBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue midtones, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainRed</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Red highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainGreen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Green highlights, 1.0 = no change</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key property">GainBlue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#Blue highlights, 1.0 = no change</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=chapter-3-adding-our-effect-to-nvr>Chapter 3: Adding our effect to NVR<a href=#chapter-3-adding-our-effect-to-nvr class=hash-link aria-label="Direct link to Chapter 3: Adding our effect to NVR" title="Direct link to Chapter 3: Adding our effect to NVR">​</a></h3>
<p>Now we're going to be touching C++ code. Scary? Yes. Annoying to read? Also yes. That's how the language got its name in the first place. Just saying it is annoying.</p>
<p>We have several things to do here. Luckily, we can just copy paste from things nearby to do must of the work for us:</p>
<p>In <code>ShaderManager.h:</code></p>
<ol>
<li>Create a new <code>struct</code> inside <code>struct ShaderConstants{}</code></li>
<li>Declare a property inside <code>ShaderConstants{}</code> at the end, which uses our new struct</li>
<li>Add a pointer to that Shader Constants property, inside <code>struct EffectsStruct{}</code></li>
</ol>
<p>Or, to put it simply:</p>
<p>Create a new <code>struct</code> in <code>ShaderConstants{}</code> -> Declare it at the end of <code>ShaderConstants{}</code> -> Add it to <code>EffectsStruct{}</code></p>
<p>Complicated? Not really. Do I know what I'm doing? Not really. Does it work? Yes. Is it jargon? Also yes. Now let's look at a picture for an example of what we're trying to create. We'll look at the Cinema effect, since it's one of the more basic effects in NVR:</p>
<p><img decoding=async loading=lazy alt=16 src=/nvr-wiki/assets/images/16-194a0c049c49c034af8f2af0052a293b.png title=16 width=1027 height=947 class=img_ev3q></p>
<p>What we're looking at, is the C++ side of the shader's variables. <code>D3DXVECTOR4</code> Looks very intimidating. But all it is, is the same thing as the <code>float4</code> variables we made in the HLSL shader code. Just a different name that's all capitalized, which makes it extra scary. One thing to be aware of, is that we can either use a <code>D3DXVECTOR4</code> (<code>float4</code> in HLSL), or a <code>float</code> (err, <code>float</code> in HLSL). And nothing in between. If we have more than 1 value we want to store, then use a <code>D3DXVECTOR4</code>. Otherwise, use <code>float</code>.</p>
<p>In our shader, we made two float4's, and one float. Remember?</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = LiftRed, .y = LiftGreen, .z = LiftBlue, .w = GammaRed</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = GammaGreen, .y = GammaBlue, .z = GainRed, .w = GainGreen</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//GainBlue</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>So if we do a bit of translation here, our struct should be:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">LiftGammaGainStruct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    D3DXVECTOR4  LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    D3DXVECTOR4  GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>float</span><span class="token plain"> Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Now, let's think about where we want to place this. We could place it after bloom, which is how almost all ENB effects work. But since we're trying to make bright things brighter (for the sake of this tutorial), and darker things darker, let's put it after Ambient Occlusion but before the colour correction effects. So:</p>
<p><img decoding=async loading=lazy alt=17 src=/nvr-wiki/assets/images/17-2407bdd31e9920e7a5b03baf045a1a1f.png title=17 width=1027 height=947 class=img_ev3q></p>
<p>That'll do. Now scroll down, we now need to declare it in the end section of the struct. Let's look for the AmbientOcclusion effect again.</p>
<p><img decoding=async loading=lazy alt=18 src=/nvr-wiki/assets/images/18-09f19f41e861c587cd634ef6a8749b7c.png title=18 width=1027 height=947 class=img_ev3q></p>
<p>All we have to do, is declare the effect as a type of LiftGammaGainStruct. Why? Dunno, but it's what we gotta do for things to work. It means something in pro programmer patter, but that's not where we're at. So just chuck it in there, because we have to.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">LiftGammaGainStruct  LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>And if you've done it right, it'll look like this:</p>
<p><img decoding=async loading=lazy alt=19 src=/nvr-wiki/assets/images/19-814fb658a2a294caba5ff8dd04fe68d5.png title=19 width=1027 height=947 class=img_ev3q></p>
<p>The scariest part here, is also very easy. Look for struct EffectsStruct and you'll find something that looks like this:</p>
<p><img decoding=async loading=lazy alt=20 src=/nvr-wiki/assets/images/20-d0f45c2b03cbfcb9480fdbe676a65111.png title=20 width=1027 height=947 class=img_ev3q></p>
<p>This is also a very easy thing. All we have to do, is add a pointer to the thing we just added before. Can you guess how it should look? If yes, look at the picture. If no, look at the picture. Keep in mind we must make sure it's alphabetically ordered.</p>
<p><img decoding=async loading=lazy alt=21 src="data:image/png;base64,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" title=21 width=396 height=310 class=img_ev3q></p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">EffectRecord</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">  LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>And there we go! That's the first half of the C++ stuff done!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=chapter-35-editing-shadermanagercpp>Chapter 3.5: Editing ShaderManager.cpp<a href=#chapter-35-editing-shadermanagercpp class=hash-link aria-label="Direct link to Chapter 3.5: Editing ShaderManager.cpp" title="Direct link to Chapter 3.5: Editing ShaderManager.cpp">​</a></h3>
<p>Now this is where it will get intimidating, as we'll be doing more than just declaring some properties and adding variables. We have to:</p>
<ul>
<li>Add if checks</li>
<li>Is the player in the exterior or interior?</li>
<li>Make lerp (blending) between day and night values</li>
<li>Tell NVR to render our effect</li>
</ul>
<p>The good news, is that we can do this simply in C++. The main issue you will see with C++ (and most programming languages, tbh), is the dogma of professional programmers. Unintuitive, short variable and function names, symbols all over the place, everything is lower case (dyslexia simulator for people without dyslexia)...</p>
<p>...Yeah not great. Luckily, we're not gonna do that. And NVR is far from the worst offender, so this could be much, much worse.</p>
<p>Before we get started, remember where we positioned the effect in <code>ShaderManager.h</code>. We put the effect immediately before the <code>Bloom</code> effect, and we'll be doing the same here.</p>
<p>Let's get started!</p>
<p>--</p>
<p>In ShaderManager.h, there are two functions we need to insert our code. The first is <code>ShaderManager::UpdateConstants() {}</code>.</p>
<p>First off, unless your shader does not have day/night nor interior/exterior, you want to make sure you don't put your code inside this function: if (<code>TheSettingManager</code> -> <code>SettingsChanged</code>)</p>
<p><img decoding=async loading=lazy alt=23 src=/nvr-wiki/assets/images/23-9fadb2ef91cc5f0f9e3a1e137cb3d997.png title=23 width=1027 height=947 class=img_ev3q></p>
<p>See where the bloom shader is placed? Let's make our if check right above it.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Effects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token plain">Enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy alt=24 src=/nvr-wiki/assets/images/24-c88af17f05f25aa77826ce97c86fcf7f.png title=24 width=1027 height=947 class=img_ev3q></p>
<p>Why do we use -> Enabled? It's a C++ thing, I don't quite get it either, as all explanations are rife with jargon. Something to do with pointers, but who cares. We're here to shade, not to point.</p>
<p>This looks very intimidating. And it should, because it is. Let's break it down. Remember those three variables we made in the shader? Here's a refresher.</p>
<div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = LiftRed, .y = LiftGreen, .z = LiftBlue, .w = GammaRed</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float4</span><span class="token plain"> TESR_LGG_GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//.x = GammaGreen, .y = GammaBlue, .z = GainRed, .w = GainGreen</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>float</span><span class="token plain"> TESR_LGG_Gain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//GainBlue</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This is where we will finally be putting values into them, by getting them from the <code>.toml</code> file. Let's fill <code>TESR_LGG_LiftGamma.x (LiftRed)</code> first. Let's take a look at the .toml file:</p>
<p><img decoding=async loading=lazy alt=25 src="data:image/png;base64,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" title=25 width=396 height=623 class=img_ev3q></p>
<p>For exteriors, we need to use the lerp() function, because we have two different values that blend into each other depending on the time of day. At noon, the value is 100% day. At midnight, the value is 100% night. If we're somewhere between those points, lerp() allows us to get the right value for the current time.</p>
<p>We also need to specify which category in the .toml we're using, and the value inside of it. As you can see in the above picture, we have three categories:</p>
<p><code>[Shaders.SweetFXLiftGammaGain.Day]</code>
<code>[Shaders.SweetFXLiftGammaGain.Night]</code>
<code>[Shaders.SweetFXLiftGammaGain.Interior]</code></p>
<p>And we have the same value names inside each of them, as it makes copy-pasting easier, avoids getting muddled up through inconsistent names, and saves screen space in the NVR menu. Win-win-win, innit?</p>
<p><img decoding=async loading=lazy alt=26 src="data:image/png;base64,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" title=26 width=677 height=292 class=img_ev3q></p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Notice what we're doing here. In order to read the .toml file, we need to use <code>TheSettingManager->GetSetting</code>, with GetSetting being a prefix. Visual Studio will show you the different possible values we can read, but since we're dealing with floats (numbers with decimal places), we use <code>GetSettingF()</code> as seen above.</p>
<p>To write out that lerp in human language, we're doing:</p>
<div class="language-test codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-test codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">Blend the following two values:</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    SweetFXLiftGammaGain.Night's LiftRed setting</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    SweetFXLiftGammaGain.Day's LiftRed setting</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    By the current time of day</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">And put that number into the shader</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Now we have to do this for all three sections' settings. Here is how the day and night sections should look:</p>
<p><img decoding=async loading=lazy alt=27 src=/nvr-wiki/assets/images/27-b5b62ec56698bdaa46ff09c81c564ca4.png title=27 width=682 height=801 class=img_ev3q></p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isExterior</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Gain </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Blue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>else</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Whew, that was intimidating right? Make sure you have the order correct, and you copy-pasted the right settings. That sure is <em>fun</em> to debug later on.</p>
<p>It isn't, by the way. It's soul destroying.</p>
<p>Now, luckily for the interior settings, we didn't add day/night separation. So we just need to do a single line for each setting:</p>
<p><img decoding=async loading=lazy alt=28 src=/nvr-wiki/assets/images/28-44ade095c2f79282750b783b21acd0ef.png title=28 width=769 height=207 class=img_ev3q></p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>else</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Gain </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Whew, we're done with that section of the code. I'll have to zoom out a bunch to show the result, so it's gonna be dinky-tiny, itty and unreasonably bitty. But it'll do.</p>
<p><img decoding=async loading=lazy alt=29 src=/nvr-wiki/assets/images/29-24076e0143d71683d694290aed5a13a2.png title=29 width=1920 height=1058 class=img_ev3q></p>
<p>And here is the entire code block:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Effects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token plain">Enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token keyword" style=font-style:italic>if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isExterior</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Gain </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lerp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Night"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Day"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"Blue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isDayTime</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token keyword" style=font-style:italic>else</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"LiftBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GammaBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainRed"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGamma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">w </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainGreen"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    ShaderConst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LiftGammaGain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Gain </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> TheSettingManager</span><span class="token operator" style="color:rgb(137, 221, 255)">-></span><span class="token function" style="color:rgb(130, 170, 255)">GetSettingF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Shaders.SweetFXLiftGammaGain.Interior"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"GainBlue"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/dlpnd/nvr-wiki/edit/master/docs/Tutorials/Shaders/HLSL.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/nvr-wiki/docs/Shaders/WetWorld><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>WetWorld</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#preface class="table-of-contents__link toc-highlight">Preface</a><li><a href=#requirements class="table-of-contents__link toc-highlight">Requirements</a><li><a href=#tutorial class="table-of-contents__link toc-highlight">Tutorial</a><ul><li><a href=#chapter-0-fixing-up-the-visual-studio-solution class="table-of-contents__link toc-highlight">Chapter 0: Fixing up the Visual Studio Solution</a><li><a href=#chapter-1-understanding-the-shader-we-want-to-port class="table-of-contents__link toc-highlight">Chapter 1: Understanding the shader we want to port</a><li><a href=#chapter-2-adding-our-shader-and-variables-to-nvr class="table-of-contents__link toc-highlight">Chapter 2: Adding our shader and variables to NVR</a><li><a href=#chapter-3-adding-our-effect-to-nvr class="table-of-contents__link toc-highlight">Chapter 3: Adding our effect to NVR</a><li><a href=#chapter-35-editing-shadermanagercpp class="table-of-contents__link toc-highlight">Chapter 3.5: Editing ShaderManager.cpp</a></ul></ul></div></div></div></div></main></div></div></div></div>